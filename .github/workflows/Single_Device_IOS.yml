name: Appium CI
on: [ push ]

jobs:
  Automate:
    runs-on: macos-10.15
    steps:
    - uses: actions/checkout@v2
    - name: Set up JDK 1.8
      uses: actions/setup-java@v1
      with:
          java-version: 1.8
    - uses: actions/setup-node@v2
      with:
          node-version: '10.16.3'
    - run: |
          npm install -g appium@v1.22.3
          appium -v
          appium &>/dev/null &
          mvn clean test -PiOS



